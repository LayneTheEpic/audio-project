<!DOCTYPE HTML>
<html lang="en">
	<head>
		<title>Audio Project</title>

		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="An audio visualizer.">

		<link rel="stylesheet" href="styles/base.css">
		<link rel="stylesheet" href="styles/fonts.css">
		<link rel="stylesheet" href="styles/main.css">

		<link rel="stylesheet" href="styles/sidebar/sidebar.css">
		<link rel="stylesheet" href="styles/sidebar/inputs.css">
		<link rel="stylesheet" href="styles/sidebar/uploadButton.css">

		<link rel="stylesheet" href="styles/modals/modals.css">
		<link rel="stylesheet" href="styles/modals/cacheModal.css">
		<link rel="stylesheet" href="styles/modals/inputModal.css">
		<link rel="stylesheet" href="styles/modals/renderProgress.css">

		<script defer src="compiled/main.js" type="module"></script>
	</head>
	<body>
		<!-- todo: accessibility :) -->
		<div id="modals">
			<div id="cache-modal" class="hide" aria-modal="true">
				<p id="cache-header">File data cached</p>
				<p id="cache-text">It looks like this file has been processed before.<br/>Do you want to use the cached data?</p>

				<div id="cache-button-container">
					<button id="cache-yes" class="cache-button">Yes</button>
					<button id="cache-no" class="cache-button">No</button>
				</div>
			</div>

			<div id="render-modal" class="hide" aria-modal="true">
				<p id="render-label">Rendering...</p>
				<div id="render-bar-container">
					<div id="render-bar-progress"></div>
				</div>
			</div>

			<div id="input-modal" class="hide" aria-modal="true">
				<div id="input-dimmer"></div>
				<div id="input-grid">
					<p id="input-label">Enter <span id="input-label-type"></span>...</p>

					<div id="input-container">
						<input id="input-input" autocomplete="off">
						<span id="input-underline"></span>

						<!-- todo: make input-input adjust based on width of its content; see https://stackoverflow.com/questions/3392493/adjust-width-of-input-field-to-its-input -->
					</div>

					<div id="input-unit-container">
						<span id="input-unit">%</span>
					</div>

					<p id="input-error">&nbsp;</p>
				</div>
			</div>
		</div>

		<div id="sidebar" class="show">
			<button id="upload-button" tabindex="0">Upload</button>
			<input id="file-input" type="file" accept="audio/*">

			<div id="frequency-container">
				<!-- add a header here and make this the bar animation area -->
				<!-- data-label="a bar factor (2<sup style='font-size: 1.5rem'>n</sup>)" -->
					<div id="frequency-input" data-type="number" data-range="4,14" data-for="bar-factor" data-label="a bar factor (2^n)">
					<p id="animation-ramp-input" class="sidebar-input">Bar factor: 2^<span id="animation-bar-factor-value">9</span></p>
				</div>


				<p id="frequency-computed" class="sidebar-error">(512)</p>
			</div>

			<div id="animation-container">
				<p class="sidebar-header">Background Animation</p>

				<div data-type="number" data-range="0,100" data-unit="%" data-for="ramp" data-label="a ramp-up value" class="bg-input">
					<p id="animation-ramp-input" class="sidebar-input">Ramp up time: <span id="animation-ramp-value">10%</span></p>
				</div>

				<div data-type="number" data-range="0,100" data-unit="%" data-for="sustain" data-label="a sustain duration" class="bg-input">
					<p id="animation-ramp-input" class="sidebar-input">Sustain time: <span id="animation-sustain-value">5%</span></p>
				</div>

				<div data-type="number" data-range="0,100" data-unit="%" data-for="fade" data-label="a fade-out time" class="bg-input">
					<p id="animation-ramp-input" class="sidebar-input">Fade out time: <span id="animation-fade-value">35%</span></p>
				</div>

				<div data-type="number" data-range="0,100" data-unit="%" data-for="lightness" data-label="the maximum lightness" class="bg-input">
					<p id="animation-ramp-input" class="sidebar-input">Maximum lightness: <span id="animation-ramp-value">20%</span></p>
				</div>
			</div>

			<!-- add a checkbox somewhere for "always used cached data where available" -->
		</div>

		<canvas id="canvas"></canvas>
	</body>
</html>
